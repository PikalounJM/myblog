<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Text Mining "Anti-discrimination law" | Jimin Kim</title>
<meta name=keywords content><meta name=description content="Text mining, Crawling, One-hot encoding, Wordcloud"><meta name=author content><link rel=canonical href=http://localhost:1313/projects/%EC%B0%A8%EB%B3%84%EA%B8%88%EC%A7%80%EB%B2%95/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/projects/%EC%B0%A8%EB%B3%84%EA%B8%88%EC%A7%80%EB%B2%95/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://localhost:1313/projects/%EC%B0%A8%EB%B3%84%EA%B8%88%EC%A7%80%EB%B2%95/"><meta property="og:site_name" content="Jimin Kim"><meta property="og:title" content='Text Mining "Anti-discrimination law"'><meta property="og:description" content="Text mining, Crawling, One-hot encoding, Wordcloud"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="projects"><meta property="og:image" content="http://localhost:1313/img/law.PNG"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/img/law.PNG"><meta name=twitter:title content='Text Mining "Anti-discrimination law"'><meta name=twitter:description content="Text mining, Crawling, One-hot encoding, Wordcloud"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"http://localhost:1313/projects/"},{"@type":"ListItem","position":2,"name":"Text Mining \"Anti-discrimination law\"","item":"http://localhost:1313/projects/%EC%B0%A8%EB%B3%84%EA%B8%88%EC%A7%80%EB%B2%95/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Text Mining \"Anti-discrimination law\"","name":"Text Mining \u0022Anti-discrimination law\u0022","description":"Text mining, Crawling, One-hot encoding, Wordcloud","keywords":[],"articleBody":"Coding The complete code can be found on ğŸ”— GitHub\nBackgroud As part of an M.S. assignment project, an analysis of public awareness through the identification of trends in support of and opposition to the â€˜Anti-Discrimination lawâ€™ using web crawling. Dataset \u0026 Tool Naver news and blog \u0026 Python âœï¸ Code Example 1) í˜•íƒœì†Œ ë¶„ì„(Morphology Analysis)\nimport konlpy from konlpy.tag import Okt from konlpy.tag import Hannanum, Kkma, Komoran, Mecab new_list = \"\".join(list) #í˜•íƒœì†Œ ë¶„ì„ twt = Okt() sentence_tag = [] for sentence in list: morph = twt.pos(sentence) sentence_tag.append(morph) print(morph) print('-' * 30) update = twt.morphs(new_list) from collections import Counter update1 = Counter(update) print(update1) #ëª…ì‚¬ ë¹ˆë„ ë¶„ì„ noun = twt.nouns(new_list) from collections import Counter noun1 = Counter(noun) print(noun1) #ë°ì´í„° ìˆœìœ„: 1ìœ„)ì°¨ë³„ê¸ˆì§€ë²•, 2ìœ„) ì°¨ë³„, 3ìœ„) í•œêµ­, 4ìœ„) ì„±ì†Œìˆ˜ì, 5ìœ„) ì„±ì ì§€í–¥ 2) í¬ë¡¤ë§(Crawling)\n#ë„¤ì´ë²„ì— 'ì°¨ë³„ê¸ˆì§€ë²•' ê²€ìƒ‰ í›„, ë‰´ìŠ¤ ì œëª© ë° URL í¬ë¡¤ë§ import requests from pandas import DataFrame from bs4 import BeautifulSoup import re from datetime import datetime import os date = str(datetime.now()) date = date[:date.rfind(':')].replace(' ', '_') date = date.replace(':','ì‹œ') + 'ë¶„' query = 'ì°¨ë³„ê¸ˆì§€ë²•' news_num = 150 query = query.replace(' ', '+') news_url = 'https://search.naver.com/search.naver?where=news\u0026sm=tab_jum\u0026query={}' req = requests.get(news_url.format(query)) soup = BeautifulSoup(req.text, 'html.parser') news_dict = {} idx = 0 cur_page = 1 while idx \u003c news_num: table = soup.find('ul',{'class' : 'list_news'}) li_list = table.find_all('li', {'id': re.compile('sp_nws.*')}) area_list = [li.find('div', {'class' : 'news_area'}) for li in li_list] a_list = [area.find('a', {'class' : 'news_tit'}) for area in area_list] for n in a_list[:min(len(a_list), news_num-idx)]: news_dict[idx] = {'title' : n.get('title'), 'url' : n.get('href')} idx += 1 cur_page += 1 pages = soup.find('div', {'class' : 'sc_page_inner'}) next_page_url = [p for p in pages.find_all('a') if p.text == str(cur_page)][0].get('href') req = requests.get('https://search.naver.com/search.naver' + next_page_url) soup = BeautifulSoup(req.text, 'html.parser') news_df = DataFrame(news_dict).T 3) ì›-í•« ì¸ì½”ë”©(One-hot encoding)\nfrom sklearn.feature_extraction.text import CountVectorizer from sklearn.cluster import KMeans from pyclustering.cluster import kmedoids import numpy as np vec = CountVectorizer() X = vec.fit_transform(document) df = pd.DataFrame(X.toarray(), columns=vec.get_feature_names()) 4) ì›Œë“œí´ë¼ìš°ë“œ(Wordcloud)\nfrom wordcloud import WordCloud #í† ë¼ ì´ë¯¸ì§€ë¡œ ì›Œë“œí´ë¼ìš°ë“œ ì‹œê°í™”í•˜ê¸° from collections import Counter import matplotlib.pyplot as plt from PIL import Image import numpy as np font_path = 'HMFMMUEX.TTC' animal_mask = np.array(Image.open(\"animal.png\")) wordcloud = WordCloud( font_path = font_path, width = 800, height = 800, background_color=\"white\", mask = animal_mask) count = Counter(word_list) wordcloud = wordcloud.generate_from_frequencies(count) plt.figure(figsize=(10, 10)) plt.imshow(wordcloud, interpolation=\"bilinear\") plt.axis(\"off\") plt.show() 5) í† í”½ ëª¨ë¸ë§(Topic modeling)\nfrom gensim.models import CoherenceModel print('\\nPerplexity: ', ldamodel.log_perplexity(corpus)) #ë³µì¡ë„ ê³„ì‚°í•˜ê³  ê·¸ ì•ˆì— ë‹¨ì–´ë“¤ë¡œ êµ¬ì„±ëœ topicì•ˆì—ì„œ ì‘ì§‘ì„±ì´ ì–´ëŠì •ë„ì¸ì§€ scoring coherence_model_lda = CoherenceModel(model=ldamodel, texts=texts, dictionary=dictionary,topn=10) coherence_lda = coherence_model_lda.get_coherence() print('\\nCoherence Score: ', coherence_lda) #ì‘ì§‘ë„, ì‘ì§‘ë„ê°€ ë‚®ì„ê²½ìš°ì—ëŠ” ì“°ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤. Perplexity: -7.837716129815166\nCoherence Score: 0.6466521187737081\nâœï¸ Graph\nimport matplotlib.pyplot as plt perplexity_values = [] for i in range(2,10): ldamodel = gensim.models.ldamodel.LdaModel(corpus, num_topics=i, id2word = dictionary) perplexity_values.append(ldamodel.log_perplexity(corpus)) x = range(2,10) plt.plot(x, perplexity_values) plt.xlabel(\"Number of topics\") plt.ylabel(\"Perplexity score\") plt.show() #5ê°œ ì´ìƒì´ ë„˜ì–´ê°€ë©´ ë³µì¡ë„ê°€ ë–¨ì–´ì§ coherence_values = [] for i in range(2,10): ldamodel = gensim.models.ldamodel.LdaModel(corpus, num_topics=i, id2word = dictionary) coherence_model_lda = CoherenceModel(model=ldamodel, texts=texts, dictionary=dictionary,topn=10) coherence_lda = coherence_model_lda.get_coherence() coherence_values.append(coherence_lda) x = range(2,10) plt.plot(x, coherence_values) plt.xlabel(\"Number of topics\") plt.ylabel(\"coherence score\") plt.show() #5ê°œë¥¼ ë½‘ì•˜ì„ë•Œê°€ ì‘ì§‘ë„ ìˆ«ìê°€ ê°€ì¥ ë†’ìŒ. ì‘ì§‘ë ¥ì´ ê°€ì¥ ë†’ì„ ë•Œì™€ Perplexityê°€ ë†’ì§€ ì•Šì„ë•Œê°€ ê°€ì¥ ì ì ˆí•¨ ","wordCount":"502","inLanguage":"en","image":"http://localhost:1313/img/law.PNG","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/projects/%EC%B0%A8%EB%B3%84%EA%B8%88%EC%A7%80%EB%B2%95/"},"publisher":{"@type":"Organization","name":"Jimin Kim","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Jimin Kim (Alt + H)">Jimin Kim</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/about/ title=About><span>About</span></a></li><li><a href=http://localhost:1313/projects/ title="Main Projects"><span>Main Projects</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;Â»&nbsp;<a href=http://localhost:1313/projects/>Projects</a></div><h1 class="post-title entry-hint-parent">Text Mining "Anti-discrimination law"</h1><div class=post-description>Text mining, Crawling, One-hot encoding, Wordcloud</div><div class=post-meta></div></header><figure class=entry-cover><img loading=eager src=http://localhost:1313/img/law.PNG alt></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#coding aria-label=Coding>Coding</a></li><li><a href=#backgroud aria-label=Backgroud>Backgroud</a></li><li><a href=#dataset--tool aria-label="Dataset & Tool">Dataset & Tool</a></li><li><a href=#-code-example aria-label="âœï¸ Code Example">âœï¸ Code Example</a></li></ul></div></details></div><div class=post-content><h2 id=coding>Coding<a hidden class=anchor aria-hidden=true href=#coding>#</a></h2><p>The complete code can be found on ğŸ”— <a href=https://github.com/PikalounJM/Text-Mining/blob/main/Non-discrimination.ipynb>GitHub</a></p><h2 id=backgroud>Backgroud<a hidden class=anchor aria-hidden=true href=#backgroud>#</a></h2><ul><li>As part of an M.S. assignment project, an analysis of public awareness through the identification of trends in support of and opposition to the &lsquo;Anti-Discrimination law&rsquo; using web crawling.</li></ul><h2 id=dataset--tool>Dataset & Tool<a hidden class=anchor aria-hidden=true href=#dataset--tool>#</a></h2><ul><li>Naver news and blog & <strong>Python</strong></li></ul><p>Â </p><h2 id=-code-example>âœï¸ Code Example<a hidden class=anchor aria-hidden=true href=#-code-example>#</a></h2><p><strong>1) í˜•íƒœì†Œ ë¶„ì„(Morphology Analysis)</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> konlpy
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> konlpy.tag <span style=color:#f92672>import</span> Okt
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> konlpy.tag <span style=color:#f92672>import</span> Hannanum, Kkma, Komoran, Mecab
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>new_list <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>.</span>join(list)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#í˜•íƒœì†Œ ë¶„ì„</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>twt <span style=color:#f92672>=</span> Okt()
</span></span><span style=display:flex><span>sentence_tag <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> sentence <span style=color:#f92672>in</span> list:
</span></span><span style=display:flex><span>    morph <span style=color:#f92672>=</span> twt<span style=color:#f92672>.</span>pos(sentence)
</span></span><span style=display:flex><span>    sentence_tag<span style=color:#f92672>.</span>append(morph)
</span></span><span style=display:flex><span>    print(morph)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>30</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>update <span style=color:#f92672>=</span> twt<span style=color:#f92672>.</span>morphs(new_list)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> collections <span style=color:#f92672>import</span> Counter
</span></span><span style=display:flex><span>update1 <span style=color:#f92672>=</span> Counter(update)
</span></span><span style=display:flex><span>print(update1)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ëª…ì‚¬ ë¹ˆë„ ë¶„ì„</span>
</span></span><span style=display:flex><span>noun <span style=color:#f92672>=</span> twt<span style=color:#f92672>.</span>nouns(new_list)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> collections <span style=color:#f92672>import</span> Counter
</span></span><span style=display:flex><span>noun1 <span style=color:#f92672>=</span> Counter(noun)
</span></span><span style=display:flex><span>print(noun1)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ë°ì´í„° ìˆœìœ„: 1ìœ„)ì°¨ë³„ê¸ˆì§€ë²•, 2ìœ„) ì°¨ë³„, 3ìœ„) í•œêµ­, 4ìœ„) ì„±ì†Œìˆ˜ì, 5ìœ„) ì„±ì ì§€í–¥</span>
</span></span></code></pre></div><p>Â </p><p><strong>2) í¬ë¡¤ë§(Crawling)</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#ë„¤ì´ë²„ì— &#39;ì°¨ë³„ê¸ˆì§€ë²•&#39; ê²€ìƒ‰ í›„, ë‰´ìŠ¤ ì œëª© ë° URL í¬ë¡¤ë§</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> requests
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> pandas <span style=color:#f92672>import</span> DataFrame
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> bs4 <span style=color:#f92672>import</span> BeautifulSoup
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> re
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> datetime <span style=color:#f92672>import</span> datetime
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>date <span style=color:#f92672>=</span> str(datetime<span style=color:#f92672>.</span>now())
</span></span><span style=display:flex><span>date <span style=color:#f92672>=</span> date[:date<span style=color:#f92672>.</span>rfind(<span style=color:#e6db74>&#39;:&#39;</span>)]<span style=color:#f92672>.</span>replace(<span style=color:#e6db74>&#39; &#39;</span>, <span style=color:#e6db74>&#39;_&#39;</span>)
</span></span><span style=display:flex><span>date <span style=color:#f92672>=</span> date<span style=color:#f92672>.</span>replace(<span style=color:#e6db74>&#39;:&#39;</span>,<span style=color:#e6db74>&#39;ì‹œ&#39;</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;ë¶„&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>query <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;ì°¨ë³„ê¸ˆì§€ë²•&#39;</span>
</span></span><span style=display:flex><span>news_num <span style=color:#f92672>=</span> <span style=color:#ae81ff>150</span>
</span></span><span style=display:flex><span>query <span style=color:#f92672>=</span> query<span style=color:#f92672>.</span>replace(<span style=color:#e6db74>&#39; &#39;</span>, <span style=color:#e6db74>&#39;+&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>news_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;https://search.naver.com/search.naver?where=news&amp;sm=tab_jum&amp;query=</span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>req <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>get(news_url<span style=color:#f92672>.</span>format(query))
</span></span><span style=display:flex><span>soup <span style=color:#f92672>=</span> BeautifulSoup(req<span style=color:#f92672>.</span>text, <span style=color:#e6db74>&#39;html.parser&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>news_dict <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span>idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>cur_page <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> idx <span style=color:#f92672>&lt;</span> news_num:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    table <span style=color:#f92672>=</span> soup<span style=color:#f92672>.</span>find(<span style=color:#e6db74>&#39;ul&#39;</span>,{<span style=color:#e6db74>&#39;class&#39;</span> : <span style=color:#e6db74>&#39;list_news&#39;</span>})
</span></span><span style=display:flex><span>    li_list <span style=color:#f92672>=</span> table<span style=color:#f92672>.</span>find_all(<span style=color:#e6db74>&#39;li&#39;</span>, {<span style=color:#e6db74>&#39;id&#39;</span>: re<span style=color:#f92672>.</span>compile(<span style=color:#e6db74>&#39;sp_nws.*&#39;</span>)})
</span></span><span style=display:flex><span>    area_list <span style=color:#f92672>=</span> [li<span style=color:#f92672>.</span>find(<span style=color:#e6db74>&#39;div&#39;</span>, {<span style=color:#e6db74>&#39;class&#39;</span> : <span style=color:#e6db74>&#39;news_area&#39;</span>}) <span style=color:#66d9ef>for</span> li <span style=color:#f92672>in</span> li_list]
</span></span><span style=display:flex><span>    a_list <span style=color:#f92672>=</span> [area<span style=color:#f92672>.</span>find(<span style=color:#e6db74>&#39;a&#39;</span>, {<span style=color:#e6db74>&#39;class&#39;</span> : <span style=color:#e6db74>&#39;news_tit&#39;</span>}) <span style=color:#66d9ef>for</span> area <span style=color:#f92672>in</span> area_list]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> n <span style=color:#f92672>in</span> a_list[:min(len(a_list), news_num<span style=color:#f92672>-</span>idx)]:
</span></span><span style=display:flex><span>        news_dict[idx] <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;title&#39;</span> : n<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;title&#39;</span>),
</span></span><span style=display:flex><span>                          <span style=color:#e6db74>&#39;url&#39;</span> : n<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;href&#39;</span>)}
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cur_page <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    pages <span style=color:#f92672>=</span> soup<span style=color:#f92672>.</span>find(<span style=color:#e6db74>&#39;div&#39;</span>, {<span style=color:#e6db74>&#39;class&#39;</span> : <span style=color:#e6db74>&#39;sc_page_inner&#39;</span>})
</span></span><span style=display:flex><span>    next_page_url <span style=color:#f92672>=</span> [p <span style=color:#66d9ef>for</span> p <span style=color:#f92672>in</span> pages<span style=color:#f92672>.</span>find_all(<span style=color:#e6db74>&#39;a&#39;</span>) <span style=color:#66d9ef>if</span> p<span style=color:#f92672>.</span>text <span style=color:#f92672>==</span> str(cur_page)][<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;href&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    req <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;https://search.naver.com/search.naver&#39;</span> <span style=color:#f92672>+</span> next_page_url)
</span></span><span style=display:flex><span>    soup <span style=color:#f92672>=</span> BeautifulSoup(req<span style=color:#f92672>.</span>text, <span style=color:#e6db74>&#39;html.parser&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>news_df <span style=color:#f92672>=</span> DataFrame(news_dict)<span style=color:#f92672>.</span>T
</span></span></code></pre></div><p>Â </p><p><strong>3) ì›-í•« ì¸ì½”ë”©(One-hot encoding)</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> sklearn.feature_extraction.text <span style=color:#f92672>import</span> CountVectorizer
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> sklearn.cluster <span style=color:#f92672>import</span> KMeans
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> pyclustering.cluster <span style=color:#f92672>import</span> kmedoids
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>vec <span style=color:#f92672>=</span> CountVectorizer()
</span></span><span style=display:flex><span>X <span style=color:#f92672>=</span> vec<span style=color:#f92672>.</span>fit_transform(document)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>df <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>DataFrame(X<span style=color:#f92672>.</span>toarray(), columns<span style=color:#f92672>=</span>vec<span style=color:#f92672>.</span>get_feature_names())
</span></span></code></pre></div><p><img alt=One-hot loading=lazy src=/img/onehot.PNG></p><p>Â </p><p><strong>4) ì›Œë“œí´ë¼ìš°ë“œ(Wordcloud)</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> wordcloud <span style=color:#f92672>import</span> WordCloud <span style=color:#75715e>#í† ë¼ ì´ë¯¸ì§€ë¡œ ì›Œë“œí´ë¼ìš°ë“œ ì‹œê°í™”í•˜ê¸°</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> collections <span style=color:#f92672>import</span> Counter
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> PIL <span style=color:#f92672>import</span> Image
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>font_path <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;HMFMMUEX.TTC&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>animal_mask <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>array(Image<span style=color:#f92672>.</span>open(<span style=color:#e6db74>&#34;animal.png&#34;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>wordcloud <span style=color:#f92672>=</span> WordCloud(
</span></span><span style=display:flex><span>    font_path <span style=color:#f92672>=</span> font_path,
</span></span><span style=display:flex><span>    width <span style=color:#f92672>=</span> <span style=color:#ae81ff>800</span>,
</span></span><span style=display:flex><span>    height <span style=color:#f92672>=</span> <span style=color:#ae81ff>800</span>,
</span></span><span style=display:flex><span>    background_color<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;white&#34;</span>,
</span></span><span style=display:flex><span>    mask <span style=color:#f92672>=</span> animal_mask)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>count <span style=color:#f92672>=</span> Counter(word_list)
</span></span><span style=display:flex><span>wordcloud <span style=color:#f92672>=</span> wordcloud<span style=color:#f92672>.</span>generate_from_frequencies(count)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>figure(figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>))
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>imshow(wordcloud, interpolation<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;bilinear&#34;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>axis(<span style=color:#e6db74>&#34;off&#34;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>show()
</span></span></code></pre></div><p>Â </p><p><strong>5) í† í”½ ëª¨ë¸ë§(Topic modeling)</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> gensim.models <span style=color:#f92672>import</span> CoherenceModel
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>Perplexity: &#39;</span>, ldamodel<span style=color:#f92672>.</span>log_perplexity(corpus)) <span style=color:#75715e>#ë³µì¡ë„ ê³„ì‚°í•˜ê³  ê·¸ ì•ˆì— ë‹¨ì–´ë“¤ë¡œ êµ¬ì„±ëœ topicì•ˆì—ì„œ ì‘ì§‘ì„±ì´ ì–´ëŠì •ë„ì¸ì§€ scoring</span>
</span></span><span style=display:flex><span>coherence_model_lda <span style=color:#f92672>=</span> CoherenceModel(model<span style=color:#f92672>=</span>ldamodel, texts<span style=color:#f92672>=</span>texts, dictionary<span style=color:#f92672>=</span>dictionary,topn<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>coherence_lda <span style=color:#f92672>=</span> coherence_model_lda<span style=color:#f92672>.</span>get_coherence()
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>Coherence Score: &#39;</span>, coherence_lda) <span style=color:#75715e>#ì‘ì§‘ë„, ì‘ì§‘ë„ê°€ ë‚®ì„ê²½ìš°ì—ëŠ” ì“°ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤.</span>
</span></span></code></pre></div><p>Perplexity: -7.837716129815166</p><p>Coherence Score: 0.6466521187737081</p><p><strong>âœï¸ Graph</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
</span></span><span style=display:flex><span>perplexity_values <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>10</span>):
</span></span><span style=display:flex><span>    ldamodel <span style=color:#f92672>=</span> gensim<span style=color:#f92672>.</span>models<span style=color:#f92672>.</span>ldamodel<span style=color:#f92672>.</span>LdaModel(corpus, num_topics<span style=color:#f92672>=</span>i, id2word <span style=color:#f92672>=</span> dictionary)
</span></span><span style=display:flex><span>    perplexity_values<span style=color:#f92672>.</span>append(ldamodel<span style=color:#f92672>.</span>log_perplexity(corpus))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>x <span style=color:#f92672>=</span> range(<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>plot(x, perplexity_values)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>xlabel(<span style=color:#e6db74>&#34;Number of topics&#34;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>ylabel(<span style=color:#e6db74>&#34;Perplexity score&#34;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>show() <span style=color:#75715e>#5ê°œ ì´ìƒì´ ë„˜ì–´ê°€ë©´ ë³µì¡ë„ê°€ ë–¨ì–´ì§</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>coherence_values <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>10</span>):
</span></span><span style=display:flex><span>    ldamodel <span style=color:#f92672>=</span> gensim<span style=color:#f92672>.</span>models<span style=color:#f92672>.</span>ldamodel<span style=color:#f92672>.</span>LdaModel(corpus, num_topics<span style=color:#f92672>=</span>i, id2word <span style=color:#f92672>=</span> dictionary)
</span></span><span style=display:flex><span>    coherence_model_lda <span style=color:#f92672>=</span> CoherenceModel(model<span style=color:#f92672>=</span>ldamodel, texts<span style=color:#f92672>=</span>texts, dictionary<span style=color:#f92672>=</span>dictionary,topn<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>    coherence_lda <span style=color:#f92672>=</span> coherence_model_lda<span style=color:#f92672>.</span>get_coherence()
</span></span><span style=display:flex><span>    coherence_values<span style=color:#f92672>.</span>append(coherence_lda)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>x <span style=color:#f92672>=</span> range(<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>plot(x, coherence_values)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>xlabel(<span style=color:#e6db74>&#34;Number of topics&#34;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>ylabel(<span style=color:#e6db74>&#34;coherence score&#34;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>show() <span style=color:#75715e>#5ê°œë¥¼ ë½‘ì•˜ì„ë•Œê°€ ì‘ì§‘ë„ ìˆ«ìê°€ ê°€ì¥ ë†’ìŒ. ì‘ì§‘ë ¥ì´ ê°€ì¥ ë†’ì„ ë•Œì™€ Perplexityê°€ ë†’ì§€ ì•Šì„ë•Œê°€ ê°€ì¥ ì ì ˆí•¨</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=http://localhost:1313/projects/airbnb/><span class=title>Â« Prev</span><br><span>Florida Airbnb Occupancy Rate Prediction</span>
</a><a class=next href=http://localhost:1313/projects/ecommerce/><span class=title>Next Â»</span><br><span>Locallive: Launched E-commerce Platform</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Jimin Kim</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>